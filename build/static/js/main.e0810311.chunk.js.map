{"version":3,"sources":["pages/home/Home.module.css","pages/account/Account.module.css","components/Navbar.module.css","pages/login/Login.module.css","pages/signup/Signup.module.css","firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","pages/home/Home.js","pages/login/Login.js","hooks/useLogin.js","pages/signup/Signup.js","hooks/useSignup.js","hooks/useFirestore.js","pages/home/TransactionForm.js","pages/home/TransactionList.js","pages/account/Account.js","hooks/useCollection.js","components/Navbar.js","hooks/useLogout.js","App.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","_ref","children","dispatch","useReducer","useEffect","unsub","onAuthStateChanged","console","log","_jsx","Provider","value","useAuthContext","context","useContext","Error","Home","_jsxs","className","styles","homeContainer","leftHalf","src","alt","image","rightHalf","textTitle","textContent","Login","email","setEmail","useState","password","setPassword","login","error","isPending","useLogin","isCancelled","setIsCancelled","setError","setIsPending","async","res","signInWithEmailAndPassword","err","message","onSubmit","e","preventDefault","onChange","target","disabled","Signup","displayName","setDisplayName","signup","useSignup","createUserWithEmailAndPassword","updateProfile","initialState","document","success","firestoreReducer","useFirestore","collection","response","ref","dispatchIfNotCancelled","addDocument","createdAt","fromDate","Date","addedDocument","add","doc","deleteDocument","id","delete","TransactionForm","uid","name","setName","amount","setAmount","_Fragment","required","TransactionList","transactions","map","transaction","onClick","Account","documents","useCollection","_query","_orderBy","setDocuments","query","useRef","current","orderBy","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","push","data","container","content","sidebar","Navbar","logout","useLogout","signOut","navbar","title","Link","to","App","BrowserRouter","Switch","Route","exact","path","Redirect","ReactDOM","render","React","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e0810311.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__3bftD\",\"content\":\"Home_content__18qU0\",\"sidebar\":\"Home_sidebar__21xz5\",\"transactions\":\"Home_transactions__3_tqr\",\"name\":\"Home_name__4a_Tj\",\"amount\":\"Home_amount__1MW_9\",\"homeContainer\":\"Home_homeContainer__2E3Sq\",\"leftHalf\":\"Home_leftHalf__18N_r\",\"rightHalf\":\"Home_rightHalf__2Wkbg\",\"image\":\"Home_image__2Y6Do\",\"textTitle\":\"Home_textTitle__1lFJR\",\"textContent\":\"Home_textContent__2NDY4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Account_container__2-zZI\",\"content\":\"Account_content__3DytJ\",\"sidebar\":\"Account_sidebar__2Od9j\",\"transactions\":\"Account_transactions__rxhFR\",\"name\":\"Account_name__lYSdd\",\"amount\":\"Account_amount__BUJFz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__31-FB\",\"title\":\"Navbar_title__2CGsW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__1NBYb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__3B7tC\"};","import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyApRBWvSiT2SYVnnp-HU3UoQpsHltuc-Ek\",\n  authDomain: \"mypocket-5d89f.firebaseapp.com\",\n  projectId: \"mypocket-5d89f\",\n  storageBucket: \"mypocket-5d89f.appspot.com\",\n  messagingSenderId: \"535580541011\",\n  appId: \"1:535580541011:web:3522799c6bae84878d06a6\",\n};\n\n//init firebase\nfirebase.initializeApp(firebaseConfig);\n\n//init service\nconst projectFirestore = firebase.firestore();\nconst projectAuth = firebase.auth();\n\n//timestamp\nconst timestamp = firebase.firestore.Timestamp;\n\nexport { projectFirestore, projectAuth, timestamp };\n","import { createContext, useReducer, useEffect } from \"react\";\nimport { projectAuth } from \"../firebase/config\";\n\nexport const AuthContext = createContext();\n\nexport const authReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN\":\n      return { ...state, user: action.payload };\n    case \"LOGOUT\":\n      return { ...state, user: null };\n    case \"AUTH_IS_READY\":\n      return { ...state, user: action.payload, authIsReady: true };\n    default:\n      return state;\n  }\n};\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, {\n    user: null,\n    authIsReady: false,\n  });\n\n  useEffect(() => {\n    const unsub = projectAuth.onAuthStateChanged((user) => {\n      dispatch({ type: \"AUTH_IS_READY\", payload: user });\n      unsub();\n    });\n  }, []);\n\n  console.log(\"AuthContext state:\", state);\n\n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import { AuthContext } from \"../context/AuthContext\";\nimport { useContext } from \"react\";\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext);\n\n  if (!context) {\n    throw Error(\"useAuthContext must be inside an AuthContextProvider\");\n  }\n  return context;\n};\n","import styles from \"./Home.module.css\";\n\nexport default function Home() {\n  return (\n    <div className={styles.homeContainer}>\n      <div className={styles.leftHalf}>\n        <img\n          src=\"https://i.pinimg.com/736x/fd/b4/ee/fdb4ee176d07383c45c0bd4855766ed5.jpg\"\n          alt=\"Decorative\"\n          className={styles.image}\n        />\n      </div>\n      <div className={styles.rightHalf}>\n        <h1 className={styles.textTitle}>Welcome to MyPocket!</h1>\n        <p className={styles.textContent}>Keep Your $ in Pocket.</p>\n      </div>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport { useLogin } from \"../../hooks/useLogin\";\n\n//styles\nimport styles from \"./Login.module.css\";\n\nexport default function Login() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const { login, error, isPending } = useLogin();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    login(email, password);\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={styles[\"login-form\"]}>\n      <h2>Login</h2>\n      <label>\n        <span>email:</span>\n        <input\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      {!isPending && <button className=\"btn\">Login</button>}\n      {isPending && (\n        <button className=\"btn\" disabled>\n          loading\n        </button>\n      )}\n      {error && <p>{error}</p>}\n    </form>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport { projectAuth } from \"../firebase/config\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const login = async (email, password) => {\n    setError(null);\n    setIsPending(true);\n\n    // sign the user out\n    try {\n      const res = await projectAuth.signInWithEmailAndPassword(email, password);\n\n      //dispatch logout action\n      dispatch({ type: \"LOGIN\", payload: res.user });\n\n      // update states\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        console.log(err.message);\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { login, error, isPending };\n};\n","import { useState } from \"react\";\nimport { useSignup } from \"../../hooks/useSignup\";\n\n//styles\nimport styles from \"./Signup.module.css\";\n\nexport default function Signup() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [displayName, setDisplayName] = useState(\"\");\n  const { signup, isPending, error } = useSignup();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    signup(email, password, displayName);\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={styles[\"signup-form\"]}>\n      <h2>Signup</h2>\n      <label>\n        <span>email:</span>\n        <input\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      <label>\n        <span>display name:</span>\n        <input\n          type=\"text\"\n          onChange={(e) => setDisplayName(e.target.value)}\n          value={displayName}\n        />\n      </label>\n      {!isPending && <button className=\"btn\">Signup</button>}\n      {isPending && (\n        <button className=\"btn\" disabled>\n          loading\n        </button>\n      )}\n      {error && <p>{error}</p>}\n    </form>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport { projectAuth } from \"../firebase/config\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useSignup = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const signup = async (email, password, displayName) => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      //signup user\n      const res = await projectAuth.createUserWithEmailAndPassword(\n        email,\n        password\n      );\n\n      // throw error if no valid response\n      if (!res) {\n        throw new Error(\"Could not complete signup\");\n      }\n\n      // add display name to user\n      await res.user.updateProfile({ displayName });\n\n      //dispatch login action\n      dispatch({ type: \"LOGIN\", payload: res.user });\n\n      // update states\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        console.log(err.message);\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { error, isPending, signup };\n};\n","import { useReducer, useEffect, useState } from \"react\";\nimport { projectFirestore, timestamp } from \"../firebase/config\";\n\nlet initialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null,\n};\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case \"IS_PENDING\":\n      return { success: false, isPending: true, error: null, document: null };\n    case \"ERROR\":\n      return {\n        success: false,\n        isPending: false,\n        error: action.payload,\n        document: null,\n      };\n    case \"ADDED_DOCUMENT\":\n      return {\n        success: true,\n        isPending: false,\n        error: null,\n        document: action.payload,\n      };\n    case \"DELETED_DOCUMENT\":\n      return {\n        success: true,\n        isPending: false,\n        error: null,\n        document: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, initialState);\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  // collection ref\n  const ref = projectFirestore.collection(collection);\n\n  // only dispatch if not cancelled\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action);\n    }\n  };\n\n  // add a document\n  const addDocument = async (doc) => {\n    dispatch({ type: \"IS_PENDING\" });\n\n    try {\n      const createdAt = timestamp.fromDate(new Date());\n      const addedDocument = await ref.add({ ...doc, createdAt });\n      dispatchIfNotCancelled({\n        type: \"ADDED_DOCUMENT\",\n        payload: addedDocument,\n      });\n    } catch (err) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: err.message });\n    }\n  };\n\n  // delete a document\n  const deleteDocument = async (id) => {\n    dispatch({ type: \"IS_PENDING\" });\n\n    try {\n      await ref.doc(id).delete();\n      dispatchIfNotCancelled({\n        type: \"DELETED_DOCUMENT\",\n      });\n    } catch (err) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: \"could not delete\" });\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { addDocument, deleteDocument, response };\n};\n","import { useState, useEffect } from \"react\";\nimport { useFirestore } from \"../../hooks/useFirestore\";\n\nexport default function TransactionForm({ uid }) {\n  const [name, setName] = useState(\"\");\n  const [amount, setAmount] = useState(\"\");\n  const { addDocument, response } = useFirestore(\"transactions\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    addDocument({\n      uid,\n      name,\n      amount,\n    });\n  };\n\n  // reset the form fields\n  useEffect(() => {\n    if (response.success) {\n      setName(\"\");\n      setAmount(\"\");\n    }\n  }, [response.success]);\n\n  return (\n    <>\n      <h3>Add a Transaction</h3>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>Transaction name:</span>\n          <input\n            type=\"text\"\n            required\n            onChange={(e) => setName(e.target.value)}\n            value={name}\n          />\n        </label>\n        <label>\n          <span>Amount ($):</span>\n          <input\n            type=\"number\"\n            required\n            onChange={(e) => setAmount(e.target.value)}\n            value={amount}\n          />\n        </label>\n        <button>Add Transaction</button>\n      </form>\n    </>\n  );\n}\n","import { useFirestore } from \"../../hooks/useFirestore\";\n\n// styles\nimport styles from \"./Home.module.css\";\n\nexport default function TransactionList({ transactions }) {\n  const { deleteDocument, response } = useFirestore(\"transactions\");\n  console.log(response);\n\n  return (\n    <ul className={styles.transactions}>\n      {transactions.map((transaction) => (\n        <li key={transaction.id}>\n          <p className={styles.name}>{transaction.name}</p>\n          <p className={styles.amount}>${transaction.amount}</p>\n          <button\n            onClick={() => {\n              deleteDocument(transaction.id);\n            }}\n          >\n            x\n          </button>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","import { useAuthContext } from \"../../hooks/useAuthContext\";\nimport { useCollection } from \"../../hooks/useCollection\";\n\n// styles\nimport styles from \"./Account.module.css\";\n\n// components\nimport TransactionForm from \"../home/TransactionForm\";\nimport TransactionList from \"../home/TransactionList\";\n\nexport default function Account() {\n  const { user } = useAuthContext();\n  const { documents, error } = useCollection(\n    \"transactions\",\n    [\"uid\", \"==\", user.uid],\n    [\"createdAt\", \"desc\"]\n  );\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.content}>\n        {error && <p>{error}</p>}\n        {documents && <TransactionList transactions={documents} />}\n      </div>\n      <div className={styles.sidebar}>\n        <TransactionForm uid={user.uid} />\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useState, useRef } from \"react\";\nimport { projectFirestore } from \"../firebase/config\";\n\nexport const useCollection = (collection, _query, _orderBy) => {\n  const [documents, setDocuments] = useState(null);\n  const [error, setError] = useState(null);\n\n  // if we don't use a ref --> infinite loop in useEffect\n  // _query is an array and is \"different\" on every function call\n  const query = useRef(_query).current;\n  const orderBy = useRef(_orderBy).current;\n\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection);\n\n    if (query) {\n      ref = ref.where(...query);\n    }\n    if (orderBy) {\n      ref = ref.orderBy(...orderBy);\n    }\n\n    const unsubscribe = ref.onSnapshot(\n      (snapshot) => {\n        let results = [];\n        snapshot.docs.forEach((doc) => {\n          console.log(doc);\n          results.push({ ...doc.data(), id: doc.id });\n        });\n\n        // update state\n        setDocuments(results);\n        setError(null);\n      },\n      (error) => {\n        console.log(error);\n        setError(\"could not fetch the data\");\n      }\n    );\n\n    // unsubscribe on unmount\n    return () => unsubscribe();\n  }, [collection, query, orderBy]);\n\n  return { documents, error };\n};\n","import { Link } from \"react-router-dom\";\nimport { useLogout } from \"../hooks/useLogout\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\n\n// styles\nimport styles from \"./Navbar.module.css\";\n\nexport default function Navbar() {\n  const { logout } = useLogout();\n  const { user } = useAuthContext();\n\n  return (\n    <nav className={styles.navbar}>\n      <ul>\n        <li className={styles.title}>\n          <Link to=\"/\">MyPocket</Link>\n        </li>\n\n        {!user && (\n          <>\n            <li>\n              <Link to=\"/login\">Login</Link>\n            </li>\n            <li>\n              <Link to=\"/signup\">Signup</Link>\n            </li>\n          </>\n        )}\n\n        {user && (\n          <>\n            <li>\n              <Link to=\"/account\">hello, {user.displayName}</Link>\n            </li>\n            <li>\n              <button className=\"btn\" onClick={logout}>\n                Logout\n              </button>\n            </li>\n          </>\n        )}\n      </ul>\n    </nav>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport { projectAuth } from \"../firebase/config\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useLogout = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const logout = async () => {\n    setError(null);\n    setIsPending(true);\n\n    // sign the user out\n    try {\n      await projectAuth.signOut();\n\n      //dispatch logout action\n      dispatch({ type: \"LOGOUT\" });\n\n      // update states\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        console.log(err.message);\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { logout, error, isPending };\n};\n","import { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { useAuthContext } from \"./hooks/useAuthContext\";\n\n// pages\nimport Home from \"./pages/home/Home\";\nimport Login from \"./pages/login/Login\";\nimport Signup from \"./pages/signup/Signup\";\nimport Account from \"./pages/account/Account\";\nimport Navbar from \"./components/Navbar\";\n\nfunction App() {\n  const { authIsReady, user } = useAuthContext();\n\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n          <Navbar />\n          <Switch>\n            <Route exact path=\"/\">\n              <Home />\n            </Route>\n\n            <Route path=\"/login\">\n              {user ? <Redirect to=\"/account\" /> : <Login />}\n            </Route>\n\n            <Route path=\"/signup\">\n              {user ? <Redirect to=\"/account\" /> : <Signup />}\n            </Route>\n\n            <Route path=\"/account\">\n              {!user ? <Redirect to=\"/login\" /> : <Account />}\n            </Route>\n          </Switch>\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}